<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Countries Proxy Example</title>
</head>
<body>

<h2>Select Country</h2>

<select id="country">
  <option>Loading...</option>
</select>

<script>
async function loadCountries() {
  try {
    const res = await fetch("/.netlify/functions/countries");
    const data = await res.json();

    const countries = data.result;
    const select = document.getElementById("country");
    select.innerHTML = "";

    countries.forEach(c => {
      const opt = document.createElement("option");
      opt.value = c.code;
      opt.textContent = c.name;
      select.appendChild(opt);
    });
  } catch (error) {
    document.getElementById("country").innerHTML =
      "<option>Error loading</option>";
  }
}

loadCountries();
</script>

</body>
</html>
