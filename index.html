<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>المنتجات</title>
  <style>
    body { font-family: Arial; }
    .product {
      border: 1px solid #ddd;
      padding: 10px;
      margin: 10px;
      width: 220px;
      display: inline-block;
      text-align: center;
    }
    img { width: 200px; border-radius: 6px; }
  </style>
</head>
<body>

<h1>المنتجات</h1>
<div id="products">جاري التحميل...</div>

<script>
async function loadProducts() {
  const res = await fetch("/.netlify/functions/get-products");
  const data = await res.json();

  console.log("DATA:", data);

  const container = document.getElementById("products");
  container.innerHTML = "";

  if (!data.result || data.result.length === 0) {
    container.innerHTML = "لا يوجد منتجات.";
    return;
  }

  data.result.forEach(item => {
    container.innerHTML += `
      <div class="product">
        <h3>${item.name}</h3>
        <img src="${item.thumbnail_url}" alt="">
      </div>
    `;
  });
}

loadProducts();
</script>

</body>
</html>
